* Add tests
* Refactor
* Make code more idiomatic